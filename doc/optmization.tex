\documentclass[12pt, a4paper, oneside]{book}

\usepackage[left=2.5cm, right=1.0cm, top=2cm, bottom=2cm]{geometry}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathtext}
\usepackage[T1,T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}

% \usepackage{myphdstyle}
% \usepackage[utf8]{inputenc}
% \usepackage{amsmath}
% \usepackage{graphicx}

% \setdefaultlanguage[spelling=modern]{russian}
% \setotherlanguage{english}

\begin{document}

$$\left [ \left[\begin{matrix}\nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right], \quad \left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right], \quad \left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) + \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) + \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right], \quad \left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) + \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) + \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right], \quad \left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) + \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) + \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right], \quad \left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) + \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) + \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right)\end{matrix}\right]\right ]$$


The problem of perceiving could be formulated as calculation of values for all sensors of
every agent. Sensor provide us with information of which force is perceived at specific
relative position.

Let us consider perception of the first force. 

$$s_1(\overrightarrow{p}) =  10 f_1 (\overrightarrow{p} - \overrightarrow{p_1}) + 2 f_1 (\overrightarrow{p} - \overrightarrow{p_2})$$

where $ \overrightarrow{p_1} $ and $ \overrightarrow{p_2} $ are some Matter's positions and $ \overrightarrow{p} $ is absolute position at which value
of the force superposition is calculated.

Let us make a substitution $ \overrightarrow{p} = \overrightarrow{p_a} + \overrightarrow{p_s} $, where
$ \overrightarrow{p_a} $ is Agent's position and $ \overrightarrow{p_s} $ is relative sensor's position.

$$s_{1,a}(\overrightarrow{p_a}) =  10 f_1 (\overrightarrow{p_a} + \overrightarrow{p_s} - \overrightarrow{p_1}) + 2 f_1 (\overrightarrow{p_a} + \overrightarrow{p_s} - \overrightarrow{p_2})$$
so sensor's value is a function of Agent's position.

The question is how effectively calculate sensors values.
I see this calculation as block with two dimentions, where the first dimention is dedicated
to agents, and the second dimention is dedicated to sensors in that agent.
This way sensors are enumerated in context of every agent.

We need to generate CUDA functions, which stand for force potential. Alternatively,
we could generate code for sensor value function. The difference is that for the second
case we intergrate calculation of absolute sensor position into calculating function.

\begin{equation}
\left[\begin{matrix}\nu_{5 0} \left(\nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right)\right) + \nu_{5 1} \left(\nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right)\right) + \nu_{5 2} \left(\nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\right) + \nu_{5 3} \left(\nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right)\right)\end{matrix}\right]
\end{equation}

So, we calculate full potential without exclution of self-influence.
Let us simply calculate self-influence, and than with simple loop generate expressions for

$\left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{0 8} \left(p_{x 0} - x\right) & \nu_{0 9} \left(- p_{x 0} + x\right) & \nu_{0 10} \left(p_{y 0} - y\right) & \nu_{0 11} \left(- p_{y 0} + y\right)\\\nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{1 8} \left(p_{x 1} - x\right) & \nu_{1 9} \left(- p_{x 1} + x\right) & \nu_{1 10} \left(p_{y 1} - y\right) & \nu_{1 11} \left(- p_{y 1} + y\right)\\\nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{2 8} \left(p_{x 2} - x\right) & \nu_{2 9} \left(- p_{x 2} + x\right) & \nu_{2 10} \left(p_{y 2} - y\right) & \nu_{2 11} \left(- p_{y 2} + y\right)\\\nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{3 8} \left(p_{x 3} - x\right) & \nu_{3 9} \left(- p_{x 3} + x\right) & \nu_{3 10} \left(p_{y 3} - y\right) & \nu_{3 11} \left(- p_{y 3} + y\right)\\\nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{4 8} \left(p_{x 4} - x\right) & \nu_{4 9} \left(- p_{x 4} + x\right) & \nu_{4 10} \left(p_{y 4} - y\right) & \nu_{4 11} \left(- p_{y 4} + y\right)\\\nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} & \nu_{5 8} \left(p_{x 5} - x\right) & \nu_{5 9} \left(- p_{x 5} + x\right) & \nu_{5 10} \left(p_{y 5} - y\right) & \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right]
$

(Nu*G).multiply_elementwise(F).shape(<number_of_matters>, <number_of_forces>)

$\left[\begin{matrix}\nu_{0 4} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 4} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 4} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 4} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 4} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 4} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x < -0.5 \\10.0 & \text{otherwise} \end{cases}\\\nu_{0 5} \begin{cases} 0.0 & \text{for}\: - p_{x 0} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 5} \begin{cases} 0.0 & \text{for}\: - p_{x 1} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 5} \begin{cases} 0.0 & \text{for}\: - p_{x 2} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 5} \begin{cases} 0.0 & \text{for}\: - p_{x 3} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 5} \begin{cases} 0.0 & \text{for}\: - p_{x 4} + x > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 5} \begin{cases} 0.0 & \text{for}\: - p_{x 5} + x > 0.5 \\10.0 & \text{otherwise} \end{cases}\\\nu_{0 6} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 6} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 6} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 6} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 6} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y < -0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 6} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y < -0.5 \\10.0 & \text{otherwise} \end{cases}\\\nu_{0 7} \begin{cases} 0.0 & \text{for}\: - p_{y 0} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{1 7} \begin{cases} 0.0 & \text{for}\: - p_{y 1} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{2 7} \begin{cases} 0.0 & \text{for}\: - p_{y 2} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{3 7} \begin{cases} 0.0 & \text{for}\: - p_{y 3} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{4 7} \begin{cases} 0.0 & \text{for}\: - p_{y 4} + y > 0.5 \\10.0 & \text{otherwise} \end{cases} + \nu_{5 7} \begin{cases} 0.0 & \text{for}\: - p_{y 5} + y > 0.5 \\10.0 & \text{otherwise} \end{cases}\\\nu_{0 8} \left(p_{x 0} - x\right) + \nu_{1 8} \left(p_{x 1} - x\right) + \nu_{2 8} \left(p_{x 2} - x\right) + \nu_{3 8} \left(p_{x 3} - x\right) + \nu_{4 8} \left(p_{x 4} - x\right) + \nu_{5 8} \left(p_{x 5} - x\right)\\\nu_{0 9} \left(- p_{x 0} + x\right) + \nu_{1 9} \left(- p_{x 1} + x\right) + \nu_{2 9} \left(- p_{x 2} + x\right) + \nu_{3 9} \left(- p_{x 3} + x\right) + \nu_{4 9} \left(- p_{x 4} + x\right) + \nu_{5 9} \left(- p_{x 5} + x\right)\\\nu_{0 10} \left(p_{y 0} - y\right) + \nu_{1 10} \left(p_{y 1} - y\right) + \nu_{2 10} \left(p_{y 2} - y\right) + \nu_{3 10} \left(p_{y 3} - y\right) + \nu_{4 10} \left(p_{y 4} - y\right) + \nu_{5 10} \left(p_{y 5} - y\right)\\\nu_{0 11} \left(- p_{y 0} + y\right) + \nu_{1 11} \left(- p_{y 1} + y\right) + \nu_{2 11} \left(- p_{y 2} + y\right) + \nu_{3 11} \left(- p_{y 3} + y\right) + \nu_{4 11} \left(- p_{y 4} + y\right) + \nu_{5 11} \left(- p_{y 5} + y\right)\end{matrix}\right]$

This is a full potential for every force component, which was calculated as (Nu*G).multiply_elementwise(F).

\end{document}
